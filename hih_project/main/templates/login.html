{% extends 'base.html' %}
{% load static %}

{% block title %}
Вход
{% endblock %}

{% block content %}
<div class="auth-wrap">
    <div class="auth-card">
        <div class="auth-header">
            <h1 class="auth-title">Вход</h1>
            <p class="auth-subtitle">Рады видеть вас снова</p>
        </div>

        {% if form.errors %}
        <div class="auth-error">
            Неверное имя пользователя или пароль.
        </div>
        {% endif %}

        <form method="post">
            {% csrf_token %}

            <div class="auth-group">
                <i class="fas fa-user auth-icon"></i>
                <input type="text"
                       name="username"
                       class="auth-input auth-input-icon"
                       placeholder="Имя пользователя"
                       required>
            </div>

            <div class="auth-group">
                <i class="fas fa-lock auth-icon"></i>
                <input type="password"
                       name="password"
                       id="auth-password"
                       class="auth-input auth-input-icon"
                       placeholder="Пароль"
                       required>
                <button type="button" class="auth-toggle" id="auth-toggle">
                    <i class="fas fa-eye"></i>
                </button>
            </div>

            <button type="submit" class="auth-btn">Войти</button>
        </form>

        <div class="auth-footer">
            <p style="color: #000;">Нет аккаунта?
                <a href="{% url 'signup' %}" class="auth-link">Регистрация</a>
            </p>
        </div>
    </div>
</div>

<script>
document.addEventListener("DOMContentLoaded", () => {
    const toggle = document.getElementById("auth-toggle");
    const pass = document.getElementById("auth-password");

    toggle.addEventListener("click", () => {
        const visible = pass.type === "text";
        pass.type = visible ? "password" : "text";

        toggle.innerHTML = visible
            ? '<i class="fas fa-eye"></i>'
            : '<i class="fas fa-eye-slash"></i>';
    });
});
</script>
{% endblock %}