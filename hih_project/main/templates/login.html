{% extends 'base.html'%}
{% load static %}

{% block title %}
Вход в систему
{% endblock %}

{% block extra_css %}


{% endblock %}

{% block content %}
<div class="login_page-container">
    <div class="login_page-card">
        <div class="login_page-header">
            <h1 class="login_page-title">Добро пожаловать</h1>
            <p class="login_page-subtitle">Войдите в свой аккаунт</p>
        </div>
        
        {% if form.errors %}
        <div class="login_page-error-message">
            Неверное имя пользователя или пароль. Пожалуйста, попробуйте снова.
        </div>
        {% endif %}
        
        <form method="post">
            {% csrf_token %}
            
            <div class="login_page-form-group">
                <i class="fas fa-user login_page-input-icon"></i>
                <input type="text" name="username" class="login_page-form-input login_page-input-with-icon" placeholder="Имя пользователя" required autofocus>
            </div>
            
            <div class="login_page-form-group">
                <i class="fas fa-lock login_page-input-icon"></i>
                <input type="password" name="password" id="login_page-password" class="login_page-form-input login_page-input-with-icon" placeholder="Пароль" required>
                <button type="button" class="login_page-password-toggle" id="login_page-togglePassword">
                    <i class="fas fa-eye"></i>
                </button>
            </div>
            
            <button type="submit" class="login_page-button">Войти</button>
        </form>
        
        <div class="login_page-footer">
            <p class="login_page-footer-text">Еще нет аккаунта? <a href="{% url 'signup' %}" class="login_page-signup-link">Зарегистрироваться</a></p>
        </div>
    </div>
</div>

<script>
    document.addEventListener('DOMContentLoaded', function() {
        const togglePassword = document.getElementById('login_page-togglePassword');
        const password = document.getElementById('login_page-password');
        
        togglePassword.addEventListener('click', function() {
            const type = password.getAttribute('type') === 'password' ? 'text' : 'password';
            password.setAttribute('type', type);
            
            this.innerHTML = type === 'password' ? '<i class="fas fa-eye"></i>' : '<i class="fas fa-eye-slash"></i>';
        });
    });
</script>
{% endblock %}