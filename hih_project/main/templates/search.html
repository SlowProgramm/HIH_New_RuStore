{% extends 'base.html' %}
{% load static %}
{% block title %}
–ö–∞—Ç–∞–ª–æ–≥
{% endblock %}

{% block content %}

<div class="search-page">

    <form action="" method="post" class="search-bar">
        {% csrf_token %}
        {{ form.search_request }}

        <div class="search-sort">
            <label for="{{ form.search_sorting_method.id_for_label }}" class="search-sort-label">
                –°–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–æ
            </label>
            {{ form.search_sorting_method }}
        </div>

        <button type="submit" class="search-submit">üîé</button>
    </form>

    {% if apps %}
        <div class="apps-grid">
            {% for app in apps %}
                <div class="apps-grid-item">
                    <a href="{% url 'app_detail' app_id=app.id %}" class="app-card">

                        <img src="{{ app.icon.url }}" alt="" class="app-card-icon">

                        <div class="app-card-info">
                            <h2 class="app-card-title">{{ app.name }}</h2>
                            <p class="app-card-category">{{ app.subcategory.name }}</p>

                            <p class="app-card-rating">‚≠ê {{ app.rating|floatformat:1 }}</p>
                        </div>
                    </a>
                </div>
            {% endfor %}
        </div>

    {% elif search_request %}
        <div class="search-empty">
            –ù–∏—á–µ–≥–æ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ.
        </div>
    {% endif %}
</div>

{% endblock %}
